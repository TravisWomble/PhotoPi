<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>PhotoPi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style></style>
    <script>
      const styles = document.querySelector("style");
      const refreshSeconds = 60;
      const refreshPhoto = () => {
        console.log('Refreshing photo!');
        styles.innerHTML = `html { 
          background: url(/photo?time=${Date.now()}) no-repeat center center fixed; 
          -webkit-background-size: contain;
          -moz-background-size: contain;
          -o-background-size: contain;
          background-size: contain;
          background-color: black;
        }`
      };
      refreshPhoto();
      setInterval(refreshPhoto, refreshSeconds * 1000);
    </script>
  </head>
  <body>
  </body>
</html>
